<ng-container *ngIf="!(gameObject.joined) && !results">
  <div class="fullscreen">
    <div class="flex-column" style="height: 100%">
      <div style="flex: 5 5 0"></div>
      <!--    row1-->
      <div class="flex-row" style="flex: 0 1 0;">
        <div style="flex: 5 9 200px;"></div>
        <div style="flex: 1 1 200px;">
          <img [src]="'assets/vectors/logo.svg' | imgCache | async | sanitize:'resourceUrl'" style="max-width: 100%;" alt="Logo of Quiz Master"></div>
        <div style="flex: 5 9 200px;"></div>
      </div>
      <div style="flex: 1 1 0"></div>


      <!--    row2-->
      <div class="flex-row" style="flex: 0 1 0;">
        <div style="flex: 1 0;"></div>
        <app-quiz-id-input [(value)]="joinDetails.gameId.value" [error]="joinDetails.gameId.error"></app-quiz-id-input>
        <div style="flex: 1 0;"></div>
      </div>


      <div class="flex-row" style="flex: 0 1 0;">
        <div style="flex: 1 0;"></div>
        <app-user-nickname-input [(value)]="joinDetails.nickname.value" [error]="joinDetails.nickname.error"></app-user-nickname-input>
        <div style="flex: 1 0;"></div>
      </div>
      <div style="flex: 1 1 0"></div>

      <!--    row3-->
      <div style="flex: 0 1 0; text-align: center;">
        <button mat-raised-button [disabled]="joinDetails.nickname.value === '' || joinDetails.gameId.value === ''" color="primary" aria-label="Play button" (click)="joinGame();">
          Join
        </button>
      </div>

      <div style="flex: 5 5 0"></div>
    </div>
  </div>
</ng-container>

<ng-container *ngIf="!gameObject.joined && results">

  <div class="with-header full-height-width-header">
    <div class="flex-row" style="height: 100%">
      <div style="flex: 5 5" *ngIf="!common.isPhone"></div>
      <div style="flex: 3 1; text-align: center; max-width: 100%;"
           [ngStyle]="{'flex-basis': common.isPhone ? '100%' : '20em'}"
           class="flex-column">

        <div *ngFor="let res of results">
          Question {{res.questionNumber + 1}} --> {{res.isCorrect}}
        </div>

      </div>
      <div style="flex: 5 5" *ngIf="!common.isPhone"></div>
    </div>
  </div>
  <div style="position: absolute; bottom: 5px; width: 100%;" class="flex-row" *ngIf="true">
    <button style="margin-right: 10px;" mat-raised-button color="primary" (click)="results = undefined">
      back
    </button>
    <div style="flex: 1 1 0;"></div>
  </div>
</ng-container>



<ng-container *ngIf="gameObject.joined">

  <div class="with-header full-height-width-header">
    <div class="flex-row" style="height: 100%">
      <div style="flex: 5 5" *ngIf="!common.isPhone"></div>
      <div style="flex: 3 1; text-align: center; max-width: 100%;"
           [ngStyle]="{'flex-basis': common.isPhone ? '100%' : '20em'}"
           class="flex-column">
        <ng-container *ngIf="gameObject.question === undefined">
          Quiz starts in {{countDown.timeRemaining}} seconds
          <div>
            <mat-icon class="rotate">
              sync
            </mat-icon>
          </div>
          <h1>
            {{gameObject.title}}
          </h1>
          <h2>
            {{gameObject.description}}
          </h2>
        </ng-container>
        <ng-container *ngIf="gameObject.question !== undefined">
          <ng-container [ngSwitch]="gameObject.question.type">
            <ng-container *ngSwitchCase="'qm.multiple_choice'">
              <app-multiple-choices [index]="gameObject.questionInd" type="game" [gameModel]="gameObject.question.model" (answer)="changeAnswer($event)"></app-multiple-choices>
            </ng-container>
          </ng-container>
        </ng-container>
      </div>
      <div style="flex: 5 5" *ngIf="!common.isPhone"></div>
    </div>
  </div>
  <div style="position: absolute; bottom: 5px; width: 100%;" class="flex-row" *ngIf="true">
    <div style="flex: 1 1 0;"></div>
    <button style="margin-right: 10px;" mat-raised-button color="primary" *ngIf="gameObject.joined && gameObject.question" [disabled]="gameObject.sent || !gameObject.answer" (click)="submitAnswer()">
      Send
    </button>
  </div>
</ng-container>

