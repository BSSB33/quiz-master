<div *ngIf="showHeaderRow" [@headerOpenClose] style="width: 100%; height: 4em;" class="flex-row app-header">
  <div style="flex: 1 1 0; height: 100%;">
    <img [src]="'assets/vectors/logo_flat.svg' | imgCache | async | sanitize:'resourceUrl'" style="max-height: calc(100% - 10px); margin: 5px;" alt="Logo of Quiz Master">
  </div>
  <div cdkOverlayOrigin #trigger="cdkOverlayOrigin" style="flex: 0 0; align-self: center">
    <img *ngIf="user" [src]="user.photoUrl | imgCache | async | sanitize:'resourceUrl'" style="border-radius: 50%; width: 2.8em; cursor: pointer; margin: 5px"  (click)="isOpen = !isOpen" alt="User picture">
  </div>
  <ng-template
    cdkConnectedOverlay
    [cdkConnectedOverlayOrigin]="trigger"
    [cdkConnectedOverlayOffsetX]="-20"
    [cdkConnectedOverlayOffsetY]="-20"
    [cdkConnectedOverlayHasBackdrop]="true"
    [cdkConnectedOverlayOpen]="isOpen"
    (backdropClick)="isOpen = ! isOpen"
  >
    <div class="user-overlay">
      <h2>{{user.name}}</h2>
      <h3>{{user.email}}</h3>
      <button mat-stroked-button color="warn" (click)="logout()">Log out</button>
    </div>
  </ng-template>
</div>



